import{u as b}from"./index-a2260535.js";import{g as _,E as K,r as i,bs as k,l as o,ab as S,aa as V,S as F,U as M,A as C,B as z,I as c,J as d,K as l,aj as U}from"./index-c17896f8.js";import{a as I,_ as D}from"./FormItem-af78cc3d.js";import{_ as R}from"./DataTable-19a8255a.js";import"./Forward-600c26c3.js";const P={class:"wrap-monitor-alarm h-full flex-col"},E=_({name:"MonitorAlarm"}),q=_({...E,setup(B){var p;(p=K())==null||p.proxy;const g=b(),m=i([]),t=i({selectValue:"pressure"}),w=i([{label:"炉压",value:"pressure"},{label:"生长速率",value:"rate"},{label:"埚转",value:"crucibleRunning"},{label:"埚位",value:"crucibleSite"},{label:"节流阀开度",value:"throttle"},{label:"氩气",value:"argon"}]),n=i({pressure:{colTitle:"炉压",maxTitle:"炉压上限",minTitle:"炉压下限",maxKey:"setPressureMax",minKey:"setPressureMin"},rate:{colTitle:"生长速率",maxTitle:"速率上限",minTitle:"速率下限",maxKey:"rateUpwardFloat",minKey:"rateDownwardFloat"},crucibleRunning:{colTitle:"等径埚转",maxTitle:"速率上限",minTitle:"速率下限",maxKey:"crucibleRunningUpwardFloat",minKey:"crucibleRunningDownwardFloat"},crucibleSite:{colTitle:"等径埚位",maxTitle:"速率上限",minTitle:"速率下限",maxKey:"crucibleSiteUpwardFloat",minKey:"crucibleSiteDownwardFloat"},throttle:{colTitle:"节流阀开度",maxTitle:"节流阀开度上限",minTitle:"节流阀开度下限",maxKey:"throttleUpwardFloat",minKey:"throttleDownwardFloat"},argon:{colTitle:"氩气",maxTitle:"氩气上限",minTitle:"氩气下限",maxKey:"argonUpwardFloat",minKey:"argonDownwardFloat"}});k();const y=i([{title:"炉台ID",key:"deviceId",width:80},{title:"炉台名称",key:"deviceName",width:80},{title(){return n.value[t.value.selectValue].colTitle},width:80,render(e){return o("text",{},e[t.value.selectValue])}},{title(){return n.value[t.value.selectValue].maxTitle},width:80,render(e){return o("text",{},e[n.value[t.value.selectValue].maxKey])}},{title(){return n.value[t.value.selectValue].minTitle},width:80,render(e){return o("text",{},e[n.value[t.value.selectValue].minKey])}},{title:"晶体长度",width:80,key:"crystalLength"},{title:"批次号",width:120,key:"lotNo"},{title:"时间",width:180,key:"createTime"},{title:"createTimeMillis",key:"createTimeMillis"},{title:"操作",key:"active",render(e,s){return o(V,{circle:!0,onClick:()=>{console.log(e,s)}},[o(S,{class:"icon-style",icon:"icon-a-009_dakaqiandao"})])},width:140,fixed:"right",align:"center"}]),a=F({page:1,pageSize:10,showSizePicker:!0,itemCount:0,pageSizes:[10,20,50],prefix(e){return console.log(e),`总数据 ${e.itemCount} 条`},onChange:async e=>{a.page=e,await r()},onUpdatePageSize:async e=>{a.pageSize=e,a.page=1,await r()}}),r=async()=>{const e=await g.getErrorList({currentPage:a.page,pageSize:a.pageSize,deviceId:"",type:t.value.selectValue});e.code===200&&(m.value=e.data.records,a.itemCount=e.data.total)},v=async()=>{await r()};return M(async()=>{await r()}),(e,s)=>{const x=U,f=I,h=D,T=R;return C(),z("div",P,[c(h,{ref:"formRef",model:l(t),inline:"","label-placement":"left",size:"small"},{default:d(()=>[c(f,{label:"属性",path:"selectValue"},{default:d(()=>[c(x,{value:l(t).selectValue,"onUpdate:value":[s[0]||(s[0]=u=>l(t).selectValue=u),v],class:"w-120px",options:l(w)},null,8,["value","options"])]),_:1})]),_:1},8,["model"]),c(T,{ref:"table",class:"h-full",remote:"",columns:l(y),data:l(m),"scroll-x":1e3,pagination:l(a),"flex-height":"","row-key":u=>u.deviceId},null,8,["columns","data","pagination","row-key"])])}}});export{q as default};
