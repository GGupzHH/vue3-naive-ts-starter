import{g as b,E as G,a7 as I,l as L,a8 as z,r as P,A as R,B as F,I as t,J as a,K as e,a9 as M,aa as g,ab as f,ac as h,ad as y,ae as U,af as B,ag as E}from"./index-d3fab68d.js";import{u as J,_ as K,a as V}from"./table-fb04db72.js";import{_ as $}from"./Grid-a51efec6.js";import{_ as A}from"./FormItem-f5746594.js";const D={class:"flex-vertical-stretch gap-16px overflow-hidden <sm:overflow-auto"},Q=b({name:"SystemManagementJobLog"}),Y=b({...Q,setup(q){var m;(m=G())==null||m.proxy;const k=I(),{columns:w,columnChecks:s,data:x,loading:u,getData:d,pagination:j,searchParams:l,resetSearchParams:v}=J({apiFn:k.getSystemJobLogList,showTotal:!0,apiParams:{current:1,size:10,jobName:null,jobGroup:null,descs:"create_time"},columns:()=>[{key:"index",title:"序号",width:64,align:"center"},{key:"jobName",title:"任务名称",width:120,align:"center"},{key:"jobGroup",title:"任务组名",width:120,align:"center"},{key:"jobLogStatus",title:"状态",width:120,align:"center",render:r=>L(z,{type:r.jobLogStatus==="1"?"error":"success"},{default:()=>r.jobLogStatus==="1"?"异常":"正常"})},{key:"jobType",title:"类型",width:120,align:"center"},{key:"executePath",title:"执行路径",width:100,align:"center"},{key:"className",title:"执行文件",width:120,align:"center"},{key:"methodName",title:"执行方法",width:120,align:"center"},{key:"methodParamsValue",title:"执行参数值",width:120,align:"center"},{key:"cronExpression",title:"cron表达式",width:120,align:"center"},{key:"jobMessage",title:"状态描述",width:120,align:"center"},{key:"executeTime",title:"执行时间(ms)",width:120,align:"center"},{key:"exceptionInfo",title:"异常信息",width:120,align:"center"},{key:"createTime",title:"开始时间",width:120,align:"center"}],immediate:void 0}),i=P([]);return(r,o)=>{const p=U,c=K,N=$,C=A,_=B,S=E,T=V;return R(),F("div",D,[t(_,{title:"搜索",bordered:!1,size:"small",class:"card-wrapper"},{default:a(()=>[t(C,{model:e(l),"label-placement":"left","label-width":80},{default:a(()=>[t(N,{responsive:"screen","item-responsive":""},{default:a(()=>[t(c,{span:"24 s:12 m:6",label:"任务名称",path:"jobName",class:"pr-24px"},{default:a(()=>[t(p,{value:e(l).jobName,"onUpdate:value":o[0]||(o[0]=n=>e(l).jobName=n),placeholder:"请输入任务名称"},null,8,["value"])]),_:1}),t(c,{span:"24 s:12 m:6",label:"组名",path:"jobGroup",class:"pr-24px"},{default:a(()=>[t(p,{value:e(l).jobGroup,"onUpdate:value":o[1]||(o[1]=n=>e(l).jobGroup=n),placeholder:"请输入组名"},null,8,["value"])]),_:1}),t(c,{span:"24 s:12 m:12"},{default:a(()=>[t(e(M),{class:"w-full",justify:"end"},{default:a(()=>[t(e(g),{type:"primary",ghost:"",onClick:e(d)},{icon:a(()=>[t(f,{icon:"icon-sousuo1"})]),default:a(()=>[h(" 搜索 ")]),_:1},8,["onClick"]),t(e(g),{onClick:e(v)},{icon:a(()=>[t(f,{icon:"icon-shuaxin-01"})]),default:a(()=>[h(" 清空 ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(_,{title:"Quartz日志",bordered:!1,size:"small",class:"card-wrapper sm:flex-1-hidden"},{"header-extra":a(()=>[t(S,{columns:e(s),"onUpdate:columns":o[2]||(o[2]=n=>y(s)?s.value=n:null),"is-delete-btn":!1,"is-add-btn":!1,loading:e(u),onRefresh:e(d)},null,8,["columns","loading","onRefresh"])]),default:a(()=>[t(T,{"checked-row-keys":e(i),"onUpdate:checkedRowKeys":o[3]||(o[3]=n=>y(i)?i.value=n:null),columns:e(w),data:e(x),size:"small","flex-height":"",remote:"","scroll-x":640,loading:e(u),pagination:e(j),"row-key":n=>n.id,class:"sm:h-full"},null,8,["checked-row-keys","columns","data","loading","pagination","row-key"])]),_:1})])}}});export{Y as default};
